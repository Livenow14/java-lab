# GeoJson with JTS & H3 학습테스트

## GeoJson with JTS
### 준비물
- JTS 라이브러리: https://mvnrepository.com/artifact/org.locationtech.jts/jts-core/1.18.2
  - github: https://github.com/locationtech/jts
- GeoJson 시각화 사이트: https://geojson.io/#map=16/37.5111/127.1001

### 테스트 설명
<img width="517" alt="image" src="https://user-images.githubusercontent.com/48986787/159669864-d5bcb025-0d43-4ffb-8565-9e14a4a8e8f1.png">

```java
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              127.09763288497925,
              37.50981094938025
            ],
            [
              127.09743976593018,
              37.506593858353796
            ],
            [
              127.09868431091309,
              37.506440660084685
            ],
            [
              127.10458517074584,
              37.50914711655335
            ],
            [
              127.10241794586182,
              37.511461995167984
            ],
            [
              127.0989418029785,
              37.50981094938025
            ],
            [
              127.09763288497925,
              37.50981094938025
            ]
          ]
        ]
      }
    }
  ]
}
```

<img width="512" alt="image" src="https://user-images.githubusercontent.com/48986787/159670290-abc54fb1-10c6-4c11-869d-4731d1d59ad1.png">

```java
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              127.1011734008789,
              37.51069605063256
            ],
            [
              127.10304021835326,
              37.50821093202033
            ],
            [
              127.10797548294067,
              37.51204070360412
            ],
            [
              127.10728883743286,
              37.51357255721701
            ],
            [
              127.1011734008789,
              37.51069605063256
            ]
          ]
        ]
      }
    }
  ]
}
```


> 위의 그림과 같이, 2개의 인접한 지역을 설정한다고 할때,
- 설정한 두 지역중 겹치는 부분 - intersectionTest
- 기준이 되는 지역에 다른 지역이 포함되지 않는 부분 - differenceTest
- 겹치는 부분을 제외한 부분 - symDifferenceTest
- 두 지역을 합친 부분 - unionTest
등등을 테스트로 coordinate(위도경도)를 찾고, 이를 https://geojson.io/#map=16/37.5111/127.1001로 복하아여 확인합니다.

### 1. 설정한 두 지역중 겹치는 부분 - intersectionTest
결과값: 
```java
[127.102913, 37.508380],
[127.103757, 37.508767],
[127.104443, 37.509299],
[127.102535, 37.511337],
[127.101173, 37.510696],
[127.102913, 37.508380]  
```


```java
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
[127.102913, 37.508380],
[127.103757, 37.508767],
[127.104443, 37.509299],
[127.102535, 37.511337],
[127.101173, 37.510696],
[127.102913, 37.508380]  
          ]
        ]
      }
    }
  ]
}
```
결과사진:
<img width="500" alt="image" src="https://user-images.githubusercontent.com/48986787/159676532-dac8b59a-4471-4e7c-9677-d3ae189e201f.png">




### 2. 기준이 되는 지역에 다른 지역이 포함되지 않는 부분 - differenceTest
사이트에서 coordinate 입력을 각각 해야한다. (예시는 아래)   
이때의 기준은 시작과 끝의 위도 경도가 같은 값들을 찾는다.  
결과값: 
```java
[127.097633, 37.509811], 
[127.097440, 37.506594], 
[127.098684, 37.506441], 
[127.102913, 37.508380], 
[127.101173, 37.510696], 
[127.102535, 37.511337], 
[127.102418, 37.511462], 
[127.098942, 37.509811],
[127.097633, 37.509811], 
[127.103757, 37.508767], 
[127.104585, 37.509147], 
[127.104443, 37.509299], 
[127.103757, 37.508767]

```
결과사진:
<img width="520" alt="image" src="https://user-images.githubusercontent.com/48986787/159688427-56a63f60-70aa-41c7-8826-05d43341a625.png">

```java
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
[127.097633, 37.509811], 
[127.097440, 37.506594], 
[127.098684, 37.506441], 
[127.102913, 37.508380], 
[127.101173, 37.510696], 
[127.102535, 37.511337], 
[127.102418, 37.511462], 
[127.098942, 37.509811], 
[127.097633, 37.509811]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
[127.103757, 37.508767], 
[127.104585, 37.509147], 
[127.104443, 37.509299], 
[127.103757, 37.508767]
          ]
        ]
      }
    }
  ]
}
```

### 3. 겹치는 부분을 제외한 부분 - symDifferenceTest
결과값:
```java
[127.097633, 37.509811], 
[127.097440, 37.506594], 
[127.098684, 37.506441], 
[127.102913, 37.508380], 
[127.101173, 37.510696], 
[127.102535, 37.511337], 
[127.102418, 37.511462], 
[127.098942, 37.509811], 
[127.097633, 37.509811], 
[127.103757, 37.508767], 
[127.102913, 37.508380], 
[127.103040, 37.508211], 
[127.103757, 37.508767], 
[127.103757, 37.508767], 
[127.104585, 37.509147], 
[127.104443, 37.509299], 
[127.103757, 37.508767], 
[127.102535, 37.511337], 
[127.104443, 37.509299], 
[127.107975, 37.512041], 
[127.107289, 37.513573], 
[127.102535, 37.511337]
```
결과사진:
<img width="504" alt="image" src="https://user-images.githubusercontent.com/48986787/159690659-ced4b905-0e9a-4adc-9f19-e687508d8533.png">

``` java
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
[127.097633, 37.509811],
[127.097440, 37.506594],
[127.098684, 37.506441],
[127.102913, 37.508380],
[127.101173, 37.510696],
[127.102535, 37.511337],
[127.102418, 37.511462],
[127.098942, 37.509811],
[127.097633, 37.509811]
          ]
        ]
      }
    },
        {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
[127.103757, 37.508767],
[127.102913, 37.508380],
[127.103040, 37.508211],
[127.103757, 37.508767]

          ]
        ]
      }
    },
        {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
[127.103757, 37.508767],
[127.104585, 37.509147],
[127.104443, 37.509299],
[127.103757, 37.508767]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
[127.102535, 37.511337],
[127.104443, 37.509299],
[127.107975, 37.512041],
[127.107289, 37.513573],
[127.102535, 37.511337]
          ]
        ]
      }
    }
  ]
}
```
### 4. 두 지역을 합친 부분 - unionTest
결과값:
```java
[127.097633, 37.509811], 
[127.097440, 37.506594], 
[127.098684, 37.506441], 
[127.102913, 37.508380], 
[127.103040, 37.508211], 
[127.103757, 37.508767], 
[127.104585, 37.509147], 
[127.104443, 37.509299], 
[127.107975, 37.512041], 
[127.107289, 37.513573], 
[127.102535, 37.511337], 
[127.102418, 37.511462], 
[127.098942, 37.509811], 
[127.097633, 37.509811]
```
<img width="500" alt="image" src="https://user-images.githubusercontent.com/48986787/159691329-a5c0e355-4bd9-4d52-94e6-0c63236f7cf2.png">

결과사진:
```java
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
        [127.097633, 37.509811],
        [127.097440, 37.506594],
        [127.098684, 37.506441],
        [127.102913, 37.508380],
        [127.103040, 37.508211],
        [127.103757, 37.508767],
        [127.104585, 37.509147],
        [127.104443, 37.509299],
        [127.107975, 37.512041],
        [127.107289, 37.513573],
        [127.102535, 37.511337],
        [127.102418, 37.511462],
        [127.098942, 37.509811],
        [127.097633, 37.509811]
          ]
        ]
      }
    }
  ]
}
```
